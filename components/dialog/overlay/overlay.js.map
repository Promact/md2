{"version":3,"sources":["components/dialog/overlay/overlay.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,qBAKO,eAAe,CAAC,CAAA;AACvB,8BAA2B,iBAAiB,CAAC,CAAA;AAC7C,gCAA4B,2BAA2B,CAAC,CAAA;AACxD,4BAAyB,eAAe,CAAC,CAAA;AAEzC,iFAAiF;AACpE,+BAAuB,GAAG,IAAI,kBAAW,CAAC,kBAAkB,CAAC,CAAC;AAE3E,8BAA8B;AAC9B,IAAI,YAAY,GAAG,CAAC,CAAC;AAErB,oDAAoD;AACpD,IAAI,YAAY,GAAG,IAAI,4BAAY,EAAE,CAAC;AAGtC;;;;;;;GAOG;AAEH;IAGE,iBACmC,uBAA4B,EACrD,kBAAqC;QAArC,uBAAkB,GAAlB,kBAAkB,CAAmB;QAE7C,IAAI,CAAC,wBAAwB,GAAG,uBAAuB,CAAC;IAC1D,CAAC;IAED;;;;OAIG;IACH,wBAAM,GAAN,UAAO,KAAkC;QAAzC,iBAEC;QAFM,qBAAkC,GAAlC,oBAAkC;QACvC,MAAM,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAAC,UAAA,IAAI,IAAI,OAAA,KAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,KAAK,CAAC,EAAnC,CAAmC,CAAC,CAAC;IACrF,CAAC;IAED;;;OAGG;IACK,oCAAkB,GAA1B;QACE,IAAI,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACzC,IAAI,CAAC,EAAE,GAAG,cAAc,GAAG,CAAC,YAAY,EAAE,CAAC,CAAC;QAC5C,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QAEvC,IAAI,CAAC,wBAAwB,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAEhD,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC/B,CAAC;IAED;;;;OAIG;IACK,mCAAiB,GAAzB,UAA0B,IAAiB;QACzC,MAAM,CAAC,IAAI,+BAAa,CACtB,IAAI,EACJ,IAAI,CAAC,kBAAkB,CAAC,CAAC;IAC7B,CAAC;IAED;;;;;OAKG;IACK,mCAAiB,GAAzB,UAA0B,IAAiB,EAAE,KAAmB;QAC9D,MAAM,CAAC,IAAI,wBAAU,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;IACnE,CAAC;IArDH;QAAC,iBAAU,EAAE;mBAKR,aAAM,CAAC,+BAAuB,CAAC;;eALvB;IAsDb,cAAC;AAAD,CArDA,AAqDC,IAAA;AArDY,eAAO,UAqDnB,CAAA","file":"components/dialog/overlay/overlay.js","sourcesContent":["import {\r\n  ComponentResolver,\r\n  OpaqueToken,\r\n  Inject,\r\n  Injectable,\r\n} from '@angular/core';\r\nimport {OverlayState} from './overlay-state';\r\nimport {DomPortalHost} from '../portal/dom-portal-host';\r\nimport {OverlayRef} from './overlay-ref';\r\n\r\n/** Token used to inject the DOM element that serves as the overlay container. */\r\nexport const OVERLAY_CONTAINER_TOKEN = new OpaqueToken('overlayContainer');\r\n\r\n/** Next overlay unique ID. */\r\nlet nextUniqueId = 0;\r\n\r\n/** The default state for newly created overlays. */\r\nlet defaultState = new OverlayState();\r\n\r\n\r\n/**\r\n * Service to create Overlays. Overlays are dynamically added pieces of floating UI, meant to be\r\n * used as a low-level building building block for other components. Dialogs, tooltips, menus,\r\n * selects, etc. can all be built using overlays. The service should primarily be used by authors\r\n * of re-usable components rather than developers building end-user applications.\r\n *\r\n * An overlay *is* a PortalHost, so any kind of Portal can be loaded into one.\r\n */\r\n@Injectable()\r\nexport class Overlay {\r\n  private _overlayContainerElement: HTMLElement;\r\n\r\n  constructor(\r\n    @Inject(OVERLAY_CONTAINER_TOKEN) overlayContainerElement: any,\r\n    private _componentResolver: ComponentResolver) {\r\n\r\n    this._overlayContainerElement = overlayContainerElement;\r\n  }\r\n\r\n  /**\r\n   * Creates an overlay.\r\n   * @param state State to apply to the overlay.\r\n   * @returns A reference to the created overlay.\r\n   */\r\n  create(state: OverlayState = defaultState): Promise<OverlayRef> {\r\n    return this._createPaneElement().then(pane => this._createOverlayRef(pane, state));\r\n  }\r\n\r\n  /**\r\n   * Creates the DOM element for an overlay and appends it to the overlay container.\r\n   * @returns Promise resolving to the created element.\r\n   */\r\n  private _createPaneElement(): Promise<HTMLElement> {\r\n    var pane = document.createElement('div');\r\n    pane.id = 'md2-overlay-' + (nextUniqueId++);\r\n    pane.classList.add('md2-overlay-pane');\r\n\r\n    this._overlayContainerElement.appendChild(pane);\r\n\r\n    return Promise.resolve(pane);\r\n  }\r\n\r\n  /**\r\n   * Create a DomPortalHost into which the overlay content can be loaded.\r\n   * @param pane The DOM element to turn into a portal host.\r\n   * @returns A portal host for the given DOM element.\r\n   */\r\n  private _createPortalHost(pane: HTMLElement): DomPortalHost {\r\n    return new DomPortalHost(\r\n      pane,\r\n      this._componentResolver);\r\n  }\r\n\r\n  /**\r\n   * Creates an OverlayRef for an overlay in the given DOM element.\r\n   * @param pane DOM element for the overlay\r\n   * @param state\r\n   * @returns {OverlayRef}\r\n   */\r\n  private _createOverlayRef(pane: HTMLElement, state: OverlayState): OverlayRef {\r\n    return new OverlayRef(this._createPortalHost(pane), pane, state);\r\n  }\r\n}\r\n"],"sourceRoot":"/source/"}