{"version":3,"file":"autocomplete-pipe.js","sourceRoot":"","sources":["../../../src/lib/autocomplete/autocomplete-pipe.ts"],"names":[],"mappings":";;;;;;;;;OAAO,EACL,IAAI,EAEL,MAAM,eAAe;AAGtB;IAAA;IAqBA,CAAC;IApBC;;;;;OAKG;IACH,iCAAS,GAAT,UAAU,KAAa,EAAE,KAAa;QACpC,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YAAC,MAAM,CAAC,KAAK,CAAC;QAAC,CAAC;QACvC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,EACtE,mCAAmC,CAAC,GAAG,KAAK,CAAC;IACjD,CAAC;IAED;;;;OAIG;IACK,qCAAa,GAArB,UAAsB,aAAqB;QACzC,MAAM,CAAC,aAAa,CAAC,OAAO,CAAC,wBAAwB,EAAE,MAAM,CAAC,CAAC;IACjE,CAAC;IArBH;QAAC,IAAI,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC;;qBAAA;IAsB5B,oBAAC;AAAD,CAAC,AArBD,IAqBC","sourcesContent":["import {\n  Pipe,\n  PipeTransform\n} from '@angular/core';\n\n@Pipe({ name: 'highlight' })\nexport class HighlightPipe implements PipeTransform {\n  /**\n   * Transform function\n   * @param value string\n   * @param query string filter value\n   * @return filtered string with markup\n   */\n  transform(value: string, query: string) {\n    if (query.length < 1) { return value; }\n    return query ? value.replace(new RegExp(this._escapeRegexp(query), 'gi'),\n      '<span class=\"highlight\">$&</span>') : value;\n  }\n\n  /**\n   * filter pipe\n   * @param queryToEscape\n   * @return queryToEscape with replace string\n   */\n  private _escapeRegexp(queryToEscape: string) {\n    return queryToEscape.replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\n  }\n}\n"]}